<h2 id="-">捐助</h2>
<p>🙏 xmake项目属于个人开源项目，它的发展需要您的帮助，如果您愿意支持xmake项目的开发，欢迎为其捐赠，支持它的发展。</p>
<p>👉 <a href="https://xmake.io/#/zh-cn/about/sponsor">捐助页面</a></p>
<h2 id="-">安装</h2>
<h4 id="-curl">使用curl</h4>
<pre><code class="lang-bash">bash &lt;(curl -fsSL https://xmake.io/shget.text)
</code></pre>
<h4 id="-wget">使用wget</h4>
<pre><code class="lang-bash">bash &lt;(wget https://xmake.io/shget.text -O -)
</code></pre>
<h4 id="-powershell">使用powershell</h4>
<pre><code class="lang-powershell">Invoke-Expression (Invoke-Webrequest &#39;https://xmake.io/psget.text&#39; -UseBasicParsing).Content
</code></pre>
<h2 id="-">简单的工程描述</h2>
<p>&lt;img src=&quot;https://xmake.io/assets/img/index/showcode1.png&quot; width=&quot;340px&quot; /&gt;</p>
<h2 id="-">包依赖描述</h2>
<p>&lt;img src=&quot;https://xmake.io/assets/img/index/add_require.png&quot; width=&quot;600px&quot; /&gt;</p>
<p>官方的xmake包管理仓库: <a href="https://github.com/xmake-io/xmake-repo">xmake-repo</a></p>
<h2 id="-">构建工程</h2>
<pre><code class="lang-bash">$ xmake
</code></pre>
<h2 id="-">运行目标</h2>
<pre><code class="lang-bash">$ xmake run console
</code></pre>
<h2 id="-">调试程序</h2>
<pre><code class="lang-bash">$ xmake run -d console
</code></pre>
<h2 id="-">配置平台</h2>
<pre><code class="lang-bash">$ xmake f -p [windows|linux|macosx|android|iphoneos ..] -a [x86|arm64 ..] -m [debug|release]
$ xmake
</code></pre>
<h2 id="-">图形化菜单配置</h2>
<pre><code class="lang-bash">$ xmake f --menu
</code></pre>
<p>&lt;img src=&quot;https://xmake.io/assets/img/index/menuconf.png&quot; width=&quot;650px&quot; /&gt;</p>
<h2 id="-ninja-">跟ninja一样快的构建速度</h2>
<p>测试工程: <a href="https://github.com/xmake-io/xmake/tree/master/core">xmake-core</a></p>
<h3 id="-">多任务并行编译测试</h3>
<table>
<thead>
<tr>
<th>构建系统</th>
<th>Termux (8core/-j12)</th>
<th>构建系统</th>
<th>MacOS (8core/-j12)</th>
</tr>
</thead>
<tbody>
<tr>
<td>xmake</td>
<td>24.890s</td>
<td>xmake</td>
<td>12.264s</td>
</tr>
<tr>
<td>ninja</td>
<td>25.682s</td>
<td>ninja</td>
<td>11.327s</td>
</tr>
<tr>
<td>cmake(gen+make)</td>
<td>5.416s+28.473s</td>
<td>cmake(gen+make)</td>
<td>1.203s+14.030s</td>
</tr>
<tr>
<td>cmake(gen+ninja)</td>
<td>4.458s+24.842s</td>
<td>cmake(gen+ninja)</td>
<td>0.988s+11.644s</td>
</tr>
</tbody>
</table>
<h3 id="-">单任务编译测试</h3>
<table>
<thead>
<tr>
<th>构建系统</th>
<th>Termux (-j1)</th>
<th>构建系统</th>
<th>MacOS (-j1)</th>
</tr>
</thead>
<tbody>
<tr>
<td>xmake</td>
<td>1m57.707s</td>
<td>xmake</td>
<td>39.937s</td>
</tr>
<tr>
<td>ninja</td>
<td>1m52.845s</td>
<td>ninja</td>
<td>38.995s</td>
</tr>
<tr>
<td>cmake(gen+make)</td>
<td>5.416s+2m10.539s</td>
<td>cmake(gen+make)</td>
<td>1.203s+41.737s</td>
</tr>
<tr>
<td>cmake(gen+ninja)</td>
<td>4.458s+1m54.868s</td>
<td>cmake(gen+ninja)</td>
<td>0.988s+38.022s</td>
</tr>
</tbody>
</table>
<h2 id="-">包依赖管理</h2>
<h3 id="-">下载和编译</h3>
<p>&lt;img src=&quot;https://xmake.io/assets/img/index/package_manage.png&quot; width=&quot;650px&quot; /&gt;</p>
<h3 id="-">架构和流程</h3>
<p>&lt;img src=&quot;https://xmake.io/assets/img/index/package_arch.png&quot; width=&quot;650px&quot; /&gt;</p>
<h2 id="-">支持平台</h2>
<ul>
<li>Windows (x86, x64)</li>
<li>macOS (i386, x86_64)</li>
<li>Linux (i386, x86_64, cross-toolchains ..)</li>
<li>*BSD (i386, x86_64)</li>
<li>Android (x86, x86_64, armeabi, armeabi-v7a, arm64-v8a)</li>
<li>iOS (armv7, armv7s, arm64, i386, x86_64)</li>
<li>WatchOS (armv7k, i386)</li>
<li>MSYS (i386, x86_64)</li>
<li>MinGW (i386, x86_64)</li>
<li>Cygwin (i386, x86_64)</li>
<li>SDCC (stm8, mcs51, ..)</li>
<li>Cross (cross-toolchains ..)</li>
</ul>
<h2 id="-">支持语言</h2>
<ul>
<li>C/C++</li>
<li>Objc/Objc++</li>
<li>Swift</li>
<li>Assembly</li>
<li>Golang</li>
<li>Rust</li>
<li>Dlang</li>
<li>Cuda</li>
</ul>
<h2 id="-">工程类型</h2>
<ul>
<li>静态库程序</li>
<li>动态库类型</li>
<li>控制台程序</li>
<li>Cuda程序</li>
<li>Qt应用程序</li>
<li>WDK驱动程序</li>
<li>WinSDK应用程序</li>
<li>MFC应用程序</li>
</ul>
<h2 id="-">更多例子</h2>
<p>Debug和Release模式：</p>
<pre><code class="lang-lua">add_rules(&quot;mode.debug&quot;, &quot;mode.release&quot;)

target(&quot;console&quot;)
    set_kind(&quot;binary&quot;)
    add_files(&quot;src/*.c&quot;)
    if is_mode(&quot;debug&quot;) then
        add_defines(&quot;DEBUG&quot;)
    end
</code></pre>
<p>自定义脚本:</p>
<pre><code class="lang-lua">target(&quot;test&quot;)
    set_kind(&quot;binary&quot;)
    add_files(&quot;src/*.c&quot;)
    after_build(function (target)
        print(&quot;hello: %s&quot;, target:name())
        os.exec(&quot;echo %s&quot;, target:targetfile())
    end)
</code></pre>
<p>下载和使用在<a href="https://github.com/xmake-io/xmake-repo">xmake-repo</a>和第三方包仓库的依赖包：</p>
<pre><code class="lang-lua">add_requires(&quot;tbox &gt;1.6.1&quot;, &quot;libuv master&quot;, &quot;vcpkg::ffmpeg&quot;, &quot;brew::pcre2/libpcre2-8&quot;)
add_requires(&quot;conan::OpenSSL/1.0.2n@conan/stable&quot;, {alias = &quot;openssl&quot;, optional = true, debug = true}) 
target(&quot;test&quot;)
    set_kind(&quot;binary&quot;)
    add_files(&quot;src/*.c&quot;)
    add_packages(&quot;tbox&quot;, &quot;libuv&quot;, &quot;vcpkg::ffmpeg&quot;, &quot;brew::pcre2/libpcre2-8&quot;, &quot;openssl&quot;)
</code></pre>
<p>Qt QuickApp应用程序:</p>
<pre><code class="lang-lua">target(&quot;test&quot;)
    add_rules(&quot;qt.quickapp&quot;)
    add_files(&quot;src/*.cpp&quot;)
    add_files(&quot;src/qml.qrc&quot;)
</code></pre>
<p>Cuda程序:</p>
<pre><code class="lang-lua">target(&quot;test&quot;)
    set_kind(&quot;binary&quot;)
    add_files(&quot;src/*.cu&quot;)
    add_cugencodes(&quot;native&quot;)
    add_cugencodes(&quot;compute_30&quot;)
</code></pre>
<p>WDK/UMDF驱动程序:</p>
<pre><code class="lang-lua">target(&quot;echo&quot;)
    add_rules(&quot;wdk.driver&quot;, &quot;wdk.env.umdf&quot;)
    add_files(&quot;driver/*.c&quot;) 
    add_files(&quot;driver/*.inx&quot;)
    add_includedirs(&quot;exe&quot;)

target(&quot;app&quot;)
    add_rules(&quot;wdk.binary&quot;, &quot;wdk.env.umdf&quot;)
    add_files(&quot;exe/*.cpp&quot;)
</code></pre>
<p>更多WDK驱动程序例子(umdf/kmdf/wdm)，见：<a href="https://xmake.io/#/zh-cn/guide/project_examples?id=wdk%e9%a9%b1%e5%8a%a8%e7%a8%8b%e5%ba%8f">WDK工程例子</a></p>
<h2 id="-">插件</h2>
<h4 id="-ide-makefile-vs2002-vs2019-">生成IDE工程文件插件（makefile, vs2002 - vs2019, ...）</h4>
<pre><code class="lang-bash">$ xmake project -k vsxmake -m &quot;debug;release&quot; # 新版vs工程生成插件（推荐）
$ xmake project -k vs -m &quot;debug;release&quot;
$ xmake project -k cmake
$ xmake project -k ninja
$ xmake project -k compile_commands
</code></pre>
<h4 id="-lua-">加载自定义lua脚本插件</h4>
<pre><code class="lang-bash">$ xmake l ./test.lua
$ xmake l -c &quot;print(&#39;hello xmake!&#39;)&quot;
$ xmake l lib.detect.find_tool gcc
$ xmake l
&gt; print(&quot;hello xmake!&quot;)
&gt; {1, 2, 3}
&lt; { 
    1,
    2,
    3 
  }
</code></pre>
<p>更多内置插件见相关文档：<a href="https://xmake.io/#/zh-cn/plugin/builtin_plugins">内置插件文档</a></p>
<p>其他扩展插件，请到插件仓库进行下载安装: <a href="https://github.com/xmake-io/xmake-plugins">xmake-plugins</a>.</p>
<h2 id="ide-">IDE和编辑器插件</h2>
<ul>
<li><a href="https://github.com/xmake-io/xmake-vscode">xmake-vscode</a></li>
</ul>
<p>&lt;img src=&quot;https://raw.githubusercontent.com/xmake-io/xmake-vscode/master/res/problem.gif&quot; width=&quot;650px&quot; /&gt;</p>
<ul>
<li><a href="https://github.com/xmake-io/xmake-sublime">xmake-sublime</a></li>
</ul>
<p>&lt;img src=&quot;https://raw.githubusercontent.com/xmake-io/xmake-sublime/master/res/problem.gif&quot; width=&quot;650px&quot; /&gt;</p>
<ul>
<li><a href="https://github.com/xmake-io/xmake-idea">xmake-idea</a></li>
</ul>
<p>&lt;img src=&quot;https://raw.githubusercontent.com/xmake-io/xmake-idea/master/res/problem.gif&quot; width=&quot;650px&quot; /&gt;</p>
<ul>
<li><p><a href="https://github.com/luzhlon/xmake.vim">xmake.vim</a> (third-party, thanks <a href="https://github.com/luzhlon">@luzhlon</a>)</p>
</li>
<li><p><a href="https://github.com/xmake-io/xmake-gradle">xmake-gradle</a>: 一个无缝整合xmake的gradle插件</p>
</li>
</ul>
<h2 id="-">项目例子</h2>
<p>一些使用xmake的项目：</p>
<ul>
<li><a href="https://github.com/tboox/tbox">tbox</a></li>
<li><a href="https://github.com/tboox/gbox">gbox</a></li>
<li><a href="https://github.com/tboox/vm86">vm86</a></li>
<li><a href="https://github.com/xmake-io/awesome-xmake">更多</a></li>
</ul>
<h2 id="-">演示视频</h2>
<p>&lt;a href=&quot;https://asciinema.org/a/133693&quot;&gt;<br>&lt;img src=&quot;https://asciinema.org/a/133693.png&quot; width=&quot;650px&quot; /&gt;<br>&lt;/a&gt;</p>
<h2 id="-">联系方式</h2>
<ul>
<li>邮箱：<a href="mailto:waruqi@gmail.com">waruqi@gmail.com</a></li>
<li>主页：<a href="https://tboox.org/cn">tboox.org</a></li>
<li>社区：<a href="https://www.reddit.com/r/tboox/">Reddit论坛</a></li>
<li>聊天：<a href="https://t.me/tbooxorg">Telegram群组</a>, <a href="https://gitter.im/tboox/tboox?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge">Gitter聊天室</a></li>
<li>源码：<a href="https://github.com/xmake-io/xmake">Github</a>, <a href="https://gitee.com/tboox/xmake">Gitee</a></li>
<li>QQ群：343118190(满), 662147501</li>
<li>微信公众号：tboox-os</li>
</ul>
<h2 id="-">感谢</h2>
<p>感谢所有对xmake有所<a href="CONTRIBUTING.md">贡献</a>的人:<br>&lt;a href=&quot;https://github.com/xmake-io/xmake/graphs/contributors&quot;&gt;&lt;img src=&quot;https://opencollective.com/xmake/contributors.svg?width=890&amp;button=false&quot; /&gt;&lt;/a&gt;</p>
<ul>
<li><a href="https://github.com/TitanSnow">TitanSnow</a>: 提供xmake <a href="https://github.com/TitanSnow/ts-xmake-logo">logo</a> 和安装脚本</li>
<li><a href="https://github.com/uael">uael</a>: 提供语义版本跨平台c库 <a href="https://github.com/uael/sv">sv</a></li>
<li><a href="https://github.com/OpportunityLiu">OpportunityLiu</a>: 改进cuda构建, tests框架和ci</li>
</ul>
